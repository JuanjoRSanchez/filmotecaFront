"use strict";(self["webpackChunkfilmotecafront"]=self["webpackChunkfilmotecafront"]||[]).push([[902],{835:function(e,t,a){a.d(t,{Z:function(){return u}});var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"volver"}},[a("div",{attrs:{id:"cajaVolver"}},[a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/homePage"},on:{click:e.borrarId}},[e._v("Volver a tus películas")])],1)])},o=[],i={name:"returnToHome",data:function(){return{}},methods:{borrarId(){localStorage.IdPelicula=""}}},s=i,r=a(1001),n=(0,r.Z)(s,l,o,!1,null,null,null),u=n.exports},2232:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"addPelicula"}},[a("section",{staticClass:"h-100 gradient-form"},[a("headerMain"),a("returnToHome"),a("div",{staticClass:"col-lg-12",attrs:{id:"cajaAddPelicula"}},[a("form",{attrs:{oninput:"result.value = slider.value"},on:{submit:function(t){return t.preventDefault(),e.addPelicula.apply(null,arguments)}}},[a("h4",[e._v("Introduce los datos de la película")]),a("hr"),a("div",{staticClass:"cajaForm"},[a("div",{staticClass:"boxCampo"},[a("label",{staticClass:"label01",attrs:{for:"form2Example10"}},[e._v("Título")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.titulo,expression:"titulo"}],staticClass:"inputE",attrs:{type:"text",id:"form2Example10",required:""},domProps:{value:e.titulo},on:{KeyDown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.AJAXConsultaPelicula.apply(null,arguments)},input:function(t){t.target.composing||(e.titulo=t.target.value)}}})]),e.resultadoAjaxPeliculaTitulo?a("div",{attrs:{id:"sugerencias00"}},e._l(e.resultadoAjaxPeliculaTitulo,(function(t){return a("ul",{key:t.id_pelicula,attrs:{id:"sug"}},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return e.rellenarPelicula(t)}}},[e._v(e._s(t.title))])])])})),0):e._e(),a("div",{staticClass:"boxCampo"},[a("label",{staticClass:"label01",attrs:{for:"form2Example11"}},[e._v("Año")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.anio,expression:"anio"}],staticClass:"inputE",attrs:{type:"text",id:"form2Example11"},domProps:{value:e.anio},on:{input:function(t){t.target.composing||(e.anio=t.target.value)}}})]),a("div",{staticClass:"boxCampo"},[a("label",{staticClass:"label01",attrs:{for:"form2Example12"}},[e._v("Director")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.director,expression:"director"}],staticClass:"inputE",attrs:{type:"text",id:"form2Example12"},domProps:{value:e.director},on:{KeyDown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.AJAXConsultaDirector.apply(null,arguments)},input:function(t){t.target.composing||(e.director=t.target.value)}}})]),e.resultadoAjaxNombre?a("div",{attrs:{id:"sugerencias01"}},e._l(e.resultadoAjaxNombre,(function(t){return a("ul",{key:t.id_director,attrs:{id:"sug"}},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return e.rellenarDirector(t.name)}}},[e._v(e._s(t.name))])])])})),0):e._e(),a("div",{staticClass:"cajaComentario"},[a("label",{staticClass:"label02",attrs:{for:"form2Example13"}},[e._v("Comentario")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comentario,expression:"comentario"}],staticClass:"inputtE textArea",attrs:{id:"form2Example13"},domProps:{value:e.comentario},on:{input:function(t){t.target.composing||(e.comentario=t.target.value)}}})]),a("label",[e._v("Ponle nota")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nota,expression:"nota"}],attrs:{type:"range",id:"slider",min:"0",max:"10",step:"1",value:"0"},domProps:{value:e.nota},on:{__r:function(t){e.nota=t.target.value}}}),a("br"),a("output",{attrs:{name:"result",for:"slider"}},[e._v("0")]),a("br"),e._v(" Mueve el punto para evaluar la película "),a("hr"),a("p",[e._v("¿Has visto la película?")]),a("div",{staticClass:"cajaVisto"},[a("div",{staticClass:"boxCampo"},[a("label",{staticClass:"form-check-label label01",attrs:{for:"form2Example15"}},[e._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.vista,expression:"vista"}],staticClass:"form-check-input",attrs:{type:"radio",id:"form2Example15",value:"true"},domProps:{checked:e._q(e.vista,"true")},on:{change:function(t){e.vista="true"}}})]),a("div",{staticClass:"boxCampo"},[a("label",{staticClass:"form-check-label label01",attrs:{for:"form2Example16"}},[e._v("No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.vista,expression:"vista"}],staticClass:"form-check-input",attrs:{type:"radio",id:"form2Example16",value:"false"},domProps:{checked:e._q(e.vista,"false")},on:{change:function(t){e.vista="false"}}})])]),a("hr"),e._m(0)])])])],1),a("div",{attrs:{id:"mensaje"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mensaje,expression:"mensaje"}],attrs:{type:"text"},domProps:{value:e.mensaje},on:{input:function(t){t.target.composing||(e.mensaje=t.target.value)}}})]),a("div",{attrs:{id:"mensajeAlerta"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mensajeAlerta,expression:"mensajeAlerta"}],attrs:{type:"text"},domProps:{value:e.mensajeAlerta},on:{input:function(t){t.target.composing||(e.mensajeAlerta=t.target.value)}}})]),a("footerComponent")],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center pt-1 mb-5 pb-1"},[a("button",{staticClass:"btn btn-primary btn-block fa-lg mb-3",attrs:{to:"/home",type:"submit"}},[e._v(" Guardar ")])])}],i=a(6166),s=a.n(i),r=a(3493),n=a(9814),u=a(835),c=a(5784),m={name:"inicioPage",components:{headerMain:n.Z,returnToHome:u.Z,FooterComponent:c.Z},data:function(){return{resultadoAjaxPeliculaTitulo:"",email:localStorage.mail,password:"",pelis:[],nota:"",comentario:"",director:"",titulo:"",anio:"",resultadoAjaxNombre:"",resultadoAjaxApellido:"",pelicula:[],nombreDirector:"",title:"",vista:"",emailusuario:"",peliculaDTO:{},error:!1,error_msg:"",respuestaOK:"",directores:!1,mensaje:"",mensajeAlerta:""}},watch:{director:function(){this.AJAXConsultaDirector()},titulo:function(){this.AJAXConsultaPelicula()}},mounted(){localStorage.mail?this.name=localStorage.name:r.Z.push({name:"home"})},created(){localStorage.mail?this.name=localStorage.name:r.Z.push({name:"home"})},methods:{addPelicula(){const e=new Date,t=e.getFullYear();"true"==this.vista?this.vista=!0:this.vista=!1,isNaN(this.anio)?this.alertaAnio="Revisa la fecha por favor":this.anio<1880||this.anio>t?(this.mensajeAlerta="Revisa la fecha por favor",document.getElementById("mensajeAlerta").style.display="block",setTimeout(this.ocultarMensajeAlerta,3e3)):this.comentario.length>200?(this.mensajeAlerta="El comentario es demasiado largo",document.getElementById("mensajeAlerta").style.display="block",setTimeout(this.ocultarMensajeAlerta,3e3)):(this.peliculaDTO={emailusuario:this.email,nombreDirector:this.director,title:this.titulo,anio:this.anio,comentario:this.comentario,nota:this.nota,vista:this.vista},s().post("http://localhost:9012/filmoteca/v1/pelicula/add",this.peliculaDTO).then((e=>{0===e.data?(this.mensaje="Ya hemos guardado la película en tu estantería",document.getElementById("mensaje").style.display="block",setTimeout(this.ocultarMensaje,3e3)):1==e.data?(this.mensajeAlerta="La pelicula que quieres guardar ya está en tu estantería",document.getElementById("mensajeAlerta").style.display="block",setTimeout(this.ocultarMensaje,3e3)):(this.mensajeAlerta="Lo sentimos pero no pudimos sctualizar la película, intentalo más tarde",document.getElementById("mensajeAlerta").style.display="block",setTimeout(this.ocultarMensaje,3e3))})).catch((e=>{console.log(e)})),this.alertaAnio="",this.alertComentario="")},AJAXConsultaDirector(){s().get("http://localhost:9012/filmoteca/v1/director/ajax/"+this.director).then((e=>{""!=e.data?this.resultadoAjaxNombre=e.data:document.getElementById("sugerencias01").style.display="none"}))},AJAXConsultaPelicula(){s().get("http://localhost:9012/filmoteca/v1/pelicula/titulo/"+this.titulo).then((e=>{""!=e.data?this.resultadoAjaxPeliculaTitulo=e.data:(document.getElementById("sugerencias00").style.display="none",document.getElementById("sugerencias01").style.display="none")}))},rellenarPelicula(e){this.director=e.nombreDirector,this.titulo=e.title,this.anio=e.anio,document.getElementById("sugerencias00").style.display="none"},rellenarDirector(e){this.director=e,document.getElementById("sugerencias01").style.display="none",document.getElementById("sugerencias00").style.display="none"},ocultarMensaje(){document.getElementById("mensaje").style.display="none",r.Z.push("homePage")},ocultarMensajeAlerta(){document.getElementById("mensajeAlerta").style.display="none"}}},d=m,p=a(1001),v=(0,p.Z)(d,l,o,!1,null,"142320c1",null),h=v.exports}}]);
//# sourceMappingURL=902.aa0004da.js.map