"use strict";(self["webpackChunkfilmotecafront"]=self["webpackChunkfilmotecafront"]||[]).push([[810],{835:function(t,a,e){e.d(a,{Z:function(){return m}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"volver"}},[e("div",{attrs:{id:"cajaVolver"}},[e("router-link",{staticClass:"btn btn-primary",attrs:{to:"/homePage"},on:{click:t.borrarId}},[t._v("Volver a tus películas")])],1)])},o=[],i={name:"returnToHome",data:function(){return{}},methods:{borrarId(){localStorage.IdPelicula=""}}},n=i,r=e(1001),l=(0,r.Z)(n,s,o,!1,null,null,null),m=l.exports},8511:function(t,a,e){e.r(a),e.d(a,{default:function(){return f}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"cuentaUsuario"}},[e("section",{staticClass:"h-100 gradient-form"},[e("headerMain"),e("returnToHome"),e("div",{staticClass:"col-lg-12",attrs:{id:"cajaUser"}},[e("form",{on:{submit:function(a){return a.preventDefault(),t.updateUsuario.apply(null,arguments)}}},[e("h3",[t._v("Estos son tus datos")]),e("div",{staticClass:"boxCampo"},[e("label",{staticClass:"label01",attrs:{for:"form2Example21"}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombre,expression:"nombre"}],staticClass:"inputE",attrs:{type:"text",id:"form2Example21",required:""},domProps:{value:t.nombre},on:{input:function(a){a.target.composing||(t.nombre=a.target.value)}}})]),e("div",{staticClass:"boxCampo"},[e("label",{staticClass:"label01",attrs:{for:"form2Example22"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"inputE",attrs:{type:"text",id:"form2Example22",minlength:"5",required:""},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})]),e("div",{staticClass:"boxCampo"},[e("label",{staticClass:"label01",attrs:{for:"form2Example23"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"inputE",attrs:{type:"email",id:"form2Example23",required:""},domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}})]),e("div",{staticClass:"boxCampo"},[e("label",{staticClass:"label01",attrs:{for:"form2Example33"}},[t._v("Fecha de alta")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fechaAlta,expression:"fechaAlta"}],staticClass:"inputE readOnly",attrs:{type:"text",id:"form2Example33",readonly:""},domProps:{value:t.fechaAlta},on:{input:function(a){a.target.composing||(t.fechaAlta=a.target.value)}}})]),t._m(0),e("div",{staticClass:"text-center pt-1 mb-5 pb-1"},[e("button",{staticClass:"btn btn-danger btn-block fa-lg mb-3",attrs:{to:"/home"},on:{click:t.confirmar}},[t._v(" Eliminar cuenta ")])])])])],1),e("div",{attrs:{id:"mensaje"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mensaje,expression:"mensaje"}],attrs:{id:"inp",type:"text"},domProps:{value:t.mensaje},on:{input:function(a){a.target.composing||(t.mensaje=a.target.value)}}})]),e("div",{attrs:{id:"mensajeConfirmacion"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mensajeConfirmacion,expression:"mensajeConfirmacion"}],attrs:{type:"text"},domProps:{value:t.mensajeConfirmacion},on:{input:function(a){a.target.composing||(t.mensajeConfirmacion=a.target.value)}}}),e("div",[e("button",{staticClass:"btn btn-danger btn-block fa-lg mb-3",on:{click:t.eliminarUsuario}},[t._v(" Si ")]),e("button",{staticClass:"btn btn-primary btn-block fa-lg mb-3",on:{click:t.noEliminar}},[t._v(" No ")])])]),e("footerComponent")],1)},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-center pt-1 mb-5 pb-1"},[e("button",{staticClass:"btn btn-primary btn-block fa-lg mb-3",attrs:{type:"submit",to:"/home"}},[t._v(" Actualizar datos ")])])}],i=e(9814),n=e(835),r=e(6166),l=e.n(r),m=e(3493),u=e(5784),c={name:"userAcount",components:{headerMain:i.Z,returnToHome:n.Z,FooterComponent:u.Z},data:function(){return{email:"",password:"",usuario:{},emailusuario:"",error:!1,error_msg:"",respuestaOK:"",id:"",nombre:"",fechaAlta:"",mensaje:"",mensajeConfirmacion:"¿Esta seguro de liminar su cuenta de Filmoteca?"}},mounted(){localStorage.mail||m.Z.push({name:"home"}),this.getUsuario()},methods:{getUsuario(){try{l().get("http://localhost:9012/filmoteca/v1/usuario/email/"+localStorage.mail).then((t=>{null!=t.data&&(this.usuario=t.data,this.id=this.usuario.id_usuario,this.nombre=this.usuario.name,this.password=this.usuario.password,this.email=this.usuario.email,this.fechaAlta=this.usuario.fechaAlta.slice(0,-19),this.error=!0)})).catch((t=>{console.log(t)}))}catch(t){console.log(t)}},updateUsuario(){this.usuario={name:this.nombre,password:this.password,email:this.email,id_usuario:this.id},l().put("http://localhost:9012/filmoteca/v1/usuario",this.usuario).then((t=>{console.log(t.data),""!=t.data&&(this.usuario=t.data,console.log(this.usuario.name),this.nombre=this.usuario.name,this.password=this.usuario.password,this.email=this.usuario.email,localStorage.mail=this.email,localStorage.name=this.name,this.mensaje="El usuario se actualizó con exito",document.getElementById("mensaje").style.display="block",setTimeout(this.ocultarMensaje,3e3))}))},eliminarUsuario(){try{l()["delete"]("http://localhost:9012/filmoteca/v1/usuario/"+this.usuario.id_usuario).then((t=>{0==t.data?(this.mensaje="Cuenta eliminada con exito",setTimeout((function(){m.Z.push({name:"LandingPage"})}),2e3)):this.mensaje="No ha sido posible eliminar tu cuenta en este momento"})).catch((t=>{this.mensaje=t}))}catch(t){console.log(t)}},ocultarMensaje(){document.getElementById("mensaje").style.display="none"},noEliminar(){document.getElementById("mensajeConfirmacion").style.display="none"},confirmar(){document.getElementById("mensajeConfirmacion").style.display="block"}}},d=c,p=e(1001),h=(0,p.Z)(d,s,o,!1,null,"72e7fffa",null),f=h.exports}}]);
//# sourceMappingURL=810.1683b149.js.map