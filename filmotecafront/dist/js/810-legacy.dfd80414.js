"use strict";(self["webpackChunkfilmotecafront"]=self["webpackChunkfilmotecafront"]||[]).push([[810],{835:function(a,e,t){t.d(e,{Z:function(){return m}});var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"volver"}},[t("div",{attrs:{id:"cajaVolver"}},[t("router-link",{staticClass:"btn btn-primary",attrs:{to:"/homePage"},on:{click:a.borrarId}},[a._v("Volver a tus películas")])],1)])},n=[],i={name:"returnToHome",data:function(){return{}},methods:{borrarId:function(){localStorage.IdPelicula=""}}},s=i,r=t(1001),l=(0,r.Z)(s,o,n,!1,null,null,null),m=l.exports},8511:function(a,e,t){t.r(e),t.d(e,{default:function(){return v}});var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"cuentaUsuario"}},[t("section",{staticClass:"h-100 gradient-form"},[t("headerMain"),t("returnToHome"),t("div",{staticClass:"col-lg-12",attrs:{id:"cajaUser"}},[t("form",{on:{submit:function(e){return e.preventDefault(),a.updateUsuario.apply(null,arguments)}}},[t("h3",[a._v("Estos son tus datos")]),t("div",{staticClass:"boxCampo"},[t("label",{staticClass:"label01",attrs:{for:"form2Example21"}},[a._v("Nombre")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.nombre,expression:"nombre"}],staticClass:"inputE",attrs:{type:"text",id:"form2Example21",required:""},domProps:{value:a.nombre},on:{input:function(e){e.target.composing||(a.nombre=e.target.value)}}})]),t("div",{staticClass:"boxCampo"},[t("label",{staticClass:"label01",attrs:{for:"form2Example22"}},[a._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.password,expression:"password"}],staticClass:"inputE",attrs:{type:"text",id:"form2Example22",minlength:"5",required:""},domProps:{value:a.password},on:{input:function(e){e.target.composing||(a.password=e.target.value)}}})]),t("div",{staticClass:"boxCampo"},[t("label",{staticClass:"label01",attrs:{for:"form2Example23"}},[a._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.email,expression:"email"}],staticClass:"inputE",attrs:{type:"email",id:"form2Example23",required:""},domProps:{value:a.email},on:{input:function(e){e.target.composing||(a.email=e.target.value)}}})]),t("div",{staticClass:"boxCampo"},[t("label",{staticClass:"label01",attrs:{for:"form2Example33"}},[a._v("Fecha de alta")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.fechaAlta,expression:"fechaAlta"}],staticClass:"inputE readOnly",attrs:{type:"text",id:"form2Example33",readonly:""},domProps:{value:a.fechaAlta},on:{input:function(e){e.target.composing||(a.fechaAlta=e.target.value)}}})]),a._m(0),t("div",{staticClass:"text-center pt-1 mb-5 pb-1"},[t("button",{staticClass:"btn btn-danger btn-block fa-lg mb-3",attrs:{to:"/home"},on:{click:a.confirmar}},[a._v(" Eliminar cuenta ")])])])])],1),t("div",{attrs:{id:"mensaje"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.mensaje,expression:"mensaje"}],attrs:{id:"inp",type:"text"},domProps:{value:a.mensaje},on:{input:function(e){e.target.composing||(a.mensaje=e.target.value)}}})]),t("div",{attrs:{id:"mensajeConfirmacion"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.mensajeConfirmacion,expression:"mensajeConfirmacion"}],attrs:{type:"text"},domProps:{value:a.mensajeConfirmacion},on:{input:function(e){e.target.composing||(a.mensajeConfirmacion=e.target.value)}}}),t("div",[t("button",{staticClass:"btn btn-danger btn-block fa-lg mb-3",on:{click:a.eliminarUsuario}},[a._v(" Si ")]),t("button",{staticClass:"btn btn-primary btn-block fa-lg mb-3",on:{click:a.noEliminar}},[a._v(" No ")])])]),t("footerComponent")],1)},n=[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"text-center pt-1 mb-5 pb-1"},[t("button",{staticClass:"btn btn-primary btn-block fa-lg mb-3",attrs:{type:"submit",to:"/home"}},[a._v(" Actualizar datos ")])])}],i=(t(8309),t(7042),t(9814)),s=t(835),r=t(6166),l=t.n(r),m=t(3493),u=t(5784),c={name:"userAcount",components:{headerMain:i.Z,returnToHome:s.Z,FooterComponent:u.Z},data:function(){return{email:"",password:"",usuario:{},emailusuario:"",error:!1,error_msg:"",respuestaOK:"",id:"",nombre:"",fechaAlta:"",mensaje:"",mensajeConfirmacion:"¿Esta seguro de liminar su cuenta de Filmoteca?"}},mounted:function(){localStorage.mail||m.Z.push({name:"home"}),this.getUsuario()},methods:{getUsuario:function(){var a=this;try{l().get("http://localhost:9012/filmoteca/v1/usuario/email/"+localStorage.mail).then((function(e){null!=e.data&&(a.usuario=e.data,a.id=a.usuario.id_usuario,a.nombre=a.usuario.name,a.password=a.usuario.password,a.email=a.usuario.email,a.fechaAlta=a.usuario.fechaAlta.slice(0,-19),a.error=!0)})).catch((function(a){console.log(a)}))}catch(e){console.log(e)}},updateUsuario:function(){var a=this;this.usuario={name:this.nombre,password:this.password,email:this.email,id_usuario:this.id},l().put("http://localhost:9012/filmoteca/v1/usuario",this.usuario).then((function(e){console.log(e.data),""!=e.data&&(a.usuario=e.data,console.log(a.usuario.name),a.nombre=a.usuario.name,a.password=a.usuario.password,a.email=a.usuario.email,localStorage.mail=a.email,localStorage.name=a.name,a.mensaje="El usuario se actualizó con exito",document.getElementById("mensaje").style.display="block",setTimeout(a.ocultarMensaje,3e3))}))},eliminarUsuario:function(){var a=this;try{l()["delete"]("http://localhost:9012/filmoteca/v1/usuario/"+this.usuario.id_usuario).then((function(e){0==e.data?(a.mensaje="Cuenta eliminada con exito",setTimeout((function(){m.Z.push({name:"LandingPage"})}),2e3)):a.mensaje="No ha sido posible eliminar tu cuenta en este momento"})).catch((function(e){a.mensaje=e}))}catch(e){console.log(e)}},ocultarMensaje:function(){document.getElementById("mensaje").style.display="none"},noEliminar:function(){document.getElementById("mensajeConfirmacion").style.display="none"},confirmar:function(){document.getElementById("mensajeConfirmacion").style.display="block"}}},d=c,p=t(1001),f=(0,p.Z)(d,o,n,!1,null,"72e7fffa",null),v=f.exports}}]);
//# sourceMappingURL=810-legacy.dfd80414.js.map